const translations = {
  uz: {
    welcome: "Xush kelibsiz",
    description: "Bu sayt tilni o‘zgartirishni qo‘llab-quvvatlaydi.",
    home: "Asosiy sahifa",
    about: "Biz haqimizda",
    partners: "Hamkorlar",
    fastService: "Tezkor xizmat",
    phone: "+998 77 404 40 40",
    osago: "OSAGO",
    travel: "Sayohat sug’urtasi",
    accident: "Baxtsiz hodisalardan sug’urta",
    kasko: "KASKO",
    clearance: "Rasmiylashtirish",
    property: "Mol-Mulk",
    sport: "Sportchilar sug’urtasi",
    soon: "Tez kunda",
    heroTitle: "Sug’urta bo’yicha yagona sotuv bilan cheklanmagan marketplace",
    heroDesc: "“Biz sug’urta sotuvi bilan cheklanmaymiz”",
    heroBtn: "Kirish",
    aboutTitle: "Biz haqimizda",
    aboutSubtitle: "Innovatsion Sug'urta Yechimlari",
    aboutDesc: "Haqiqiy sug’urtaning ishlashini hohlab ushbu sayt ishga tushirildi va bu sayt orqali faqatgina ishonchli sug’urta kompaniyalarning sug’urta mahsulotlari sotuvi amalga oshiriladi.",
    aboutBtn: "Batafsil",
    partnersTitle: "Hamkorlarimiz",
    trustWhy: "Nega bizga ishonishingiz mumkin?",
    trust1: "Amaliy yordam",
    trust1desc: "Taklif etilayotgan sug'urta xizmatlari va taklif etayotgan sug'urta kompaniyalar bilan muammo yuzaga kelsa amaliy yordam kafolatlanadi",
    trust2: "Saralangan kompaniyalar",
    trust2desc: "Tajribali sug'urtachi Hasan Xolbo’tayev nazorati ostida sug’urta kompaniyalar saralanadi",
    trust3: "Bepul konsultatsiya",
    trust3desc: "Sug'urta sotib olgan mijozlar uchun zarur holatda bir martalik bepul konsultatsiya beriladi",
    trust4: "Xizmat ko'rsatish hududi",
    trust4desc: "Butun O'zbekiston",
    footerSlogan: "Sug’urta bo’yicha haqiqiy yordamchingiz",
    footerHome: "Asosiy sahifa",
    footerOsago: "OSAGO",
    footerTravel: "Sayohat",
    footerPartners: "Hamkorlik",
    footerSupport: "Mijozlarni Qo‘llab-Quvvatlash",
    footerFaq: "Tez-tez so‘raladigan savollar",
    footerPrivacy: "Maxfiylik siyosati",
    footerCopyright: "© “elsu.uz”, 2025 Barcha huquqlar himoyalangan.",
    euro: "Yevroprotokol",
    euroDesc: "Yevroprotokol to'ldirish namunasi",
    tow: "Evakuator chaqirish",
    towDesc: "Yo‘l-transport hodisasi yuz berganda yoki texnik nosozlikda tezkor yordam chaqirish xizmati.",
    fuel: "Benzin",
    fuelDesc: "Yo‘lda favqulodda yoqilg‘ingiz tugab qoldimi? Tugmani bosish bilan qo‘ng‘iroq qiling va benzin etkazib berishlarini so‘rang (Toshkent shahri va atrofi bo‘yicha)",
    eval: "Baholash",
    evalDesc: "Zararni baholash kerak bo‘ldimi? Tugmani bosish bilan qo‘ng‘iroq qiling va baholovchi bilan bog‘laning",
    use: "Foydalanish",
    towTitle: "Evakuator chaqirish",
    towDescModal: "Iltimos, siz bilan bog’lanishimiz uchun ism, familiyangiz va telefon raqamingizni kiriting.",
    towName: "Ism familiya",
    towPhone: "Telefon raqam",
    towSubmit: "Davom etish",
    carNumberPlaceholder: "Mashina davlat raqami",
    texSeriyaPlaceholder: "Seriyasi",
    texRaqamPlaceholder: "Raqami",
    passportSeriyaPlaceholder: "Seriya",
    passportRaqamPlaceholder: "Raqami",
    osagoFormTitle: "Ma’lumotlarni kiriting",
    osagoFormDesc: "Ushbu ma’lumotlar majburiy sug‘urta polisining narxini aniqlash uchun kerak.",
    passportTitle: "Mashina egasi pasport ma’lumoti",
    passportDesc: "Keyingi qadamga o‘tish uchun mashina egasining pasport ma’lumotlarini kiriting",
    summaryTitle: "Sizning ma'lumotlaringiz",
    summaryModel: "Mashina modeli:",
    summaryNumber: "Davlat raqami:",
    callTitle: "Qo‘ng‘iroq qiling:",
    signinTitle: "Profilga ",
    signinTitleSpan: "kirish",
    signinCardTitle: "Davom etish uchun telefon raqamingizni kiriting",
    signinPhonePlaceholder: "77 404 40 40",
    signinCheckboxLabelStart: "Avtorizatsiyadan o'tish orqali siz ",
    signinPolicyLink: "shaxsiy ma'lumotlarni qayta ishlash siyosatiga",
    signinCheckboxLabelEnd: " rozilik bildirasiz",
    signinBtn: "Davom etish",
    codeModalTitle: "Kodini kiriting",
    codeModalDesc: "Telefonni tasdiqlash uchun <span id='modalPhoneNumber'>+998 77 404 40 40</span> raqamiga kod yuborildi.",
    timer: "60 Sekund",
    confirmBtn: "Tasdiqlash",
    profileMyData: "Ma'lumotlarim",
    profileMyInsurances: "Sug'urtalarim",
    logout: "Tizimdan chiqish",
    profileId: "ID: 451 458 867",
    profileName: "Ism Familiya",
    profileBirth: "Tug‘ilgan sana",
    profilePhone: "Telefon raqam",
    profileGender: "Jins",
    profileMale: "Erkak",
    profileFemale: "Ayol",
    profileEditTitle: "Shaxsiy ma'lumotlarni o'zgartirish",
    profileSave: "Saqlash",
    profileNamePlaceholder: "Ism Familiya",
    profilePhonePlaceholder: "Telefon raqam",
  },
  ru: {
    welcome: "Добро пожаловать",
    description: "Этот сайт поддерживает смену языка.",
    home: "Главная страница",
    about: "О нас",
    partners: "Партнеры",
    fastService: "Быстрый сервис",
    phone: "+998 77 404 40 40",
    osago: "ОСАГО",
    travel: "Страхование путешествий",
    accident: "Страхование от несчастных случаев",
    kasko: "КАСКО",
    clearance: "Оформление",
    property: "Имущество",
    sport: "Страхование спортсменов",
    soon: "Скоро",
    heroTitle: "Единый маркетплейс по страхованию без ограничений на продажу",
    heroDesc: "«Мы не ограничиваемся только продажей страхования»",
    heroBtn: "Войти",
    aboutTitle: "О нас",
    aboutSubtitle: "Инновационные страховые решения",
    aboutDesc: "Этот сайт был создан для настоящей работы страхования, и только продукты надежных страховых компаний продаются через этот сайт.",
    aboutBtn: "Подробнее",
    partnersTitle: "Наши партнеры",
    trustWhy: "Почему вы можете нам доверять?",
    trust1: "Практическая помощь",
    trust1desc: "Гарантируется практическая помощь при возникновении проблем со страховыми услугами и компаниями.",
    trust2: "Отобранные компании",
    trust2desc: "Страховые компании отбираются под контролем опытного страховщика Хасана Холботаева.",
    trust3: "Бесплатная консультация",
    trust3desc: "Для клиентов, купивших страховку, при необходимости предоставляется разовая бесплатная консультация.",
    trust4: "Зона обслуживания",
    trust4desc: "Вся Узбекистан",
    footerSlogan: "Ваш настоящий помощник по страхованию",
    footerHome: "Главная страница",
    footerOsago: "ОСАГО",
    footerTravel: "Путешествия",
    footerPartners: "Партнерство",
    footerSupport: "Поддержка клиентов",
    footerFaq: "Часто задаваемые вопросы",
    footerPrivacy: "Политика конфиденциальности",
    footerCopyright: "© «elsu.uz», 2025. Все права защищены.",
    euro: "Европротокол",
    euroDesc: "Образец заполнения европротокола",
    tow: "Вызов эвакуатора",
    towDesc: "Срочная помощь при ДТП или технической неисправности.",
    fuel: "Бензин",
    fuelDesc: "Закончился бензин в дороге? Нажмите кнопку и закажите доставку топлива (по Ташкенту и области)",
    eval: "Оценка",
    evalDesc: "Нужна оценка ущерба? Нажмите кнопку и свяжитесь с оценщиком",
    use: "Использовать",
    towTitle: "Вызов эвакуатора",
    towDescModal: "Пожалуйста, введите ваше имя, фамилию и номер телефона для связи.",
    towName: "Имя фамилия",
    towPhone: "Номер телефона",
    towSubmit: "Продолжить",
    carNumberPlaceholder: "Гос. номер автомобиля",
    texSeriyaPlaceholder: "Серия",
    texRaqamPlaceholder: "Номер",
    passportSeriyaPlaceholder: "Серия",
    passportRaqamPlaceholder: "Номер",
    osagoFormTitle: "Введите данные",
    osagoFormDesc: "Эти данные необходимы для расчета стоимости обязательного страхового полиса.",
    passportTitle: "Паспортные данные владельца",
    passportDesc: "Для перехода к следующему шагу введите паспортные данные владельца автомобиля",
    summaryTitle: "Ваши данные",
    summaryModel: "Модель авто:",
    summaryNumber: "Гос. номер:",
    callTitle: "Позвоните:",
    signinTitle: "Вход в ",
    signinTitleSpan: "профиль",
    signinCardTitle: "Введите номер телефона для продолжения",
    signinPhonePlaceholder: "77 404 40 40",
    signinCheckboxLabelStart: "Авторизуясь, вы соглашаетесь с ",
    signinPolicyLink: "политикой обработки персональных данных",
    signinCheckboxLabelEnd: "",
    signinBtn: "Продолжить",
    codeModalTitle: "Введите код",
    codeModalDesc: "На номер <span id='modalPhoneNumber'>+998 77 404 40 40</span> отправлен код для подтверждения.",
    timer: "60 секунд",
    confirmBtn: "Подтвердить",
    profileMyData: "Мои данные",
    profileMyInsurances: "Мои страховки",
    logout: "Выйти",
    profileId: "ID: 451 458 867",
    profileName: "Имя Фамилия",
    profileBirth: "Дата рождения",
    profilePhone: "Телефон",
    profileGender: "Пол",
    profileMale: "Мужчина",
    profileFemale: "Женщина",
    profileEditTitle: "Изменить личные данные",
    profileSave: "Сохранить",
    profileNamePlaceholder: "Имя Фамилия",
    profilePhonePlaceholder: "Телефон",
  }
};

// Tilni localStorage dan olish
function getLang() {
  return localStorage.getItem('lang') || 'uz';
}

// Tilni o‘rnatish
function setLang(lang) {
  localStorage.setItem('lang', lang);
}

// Sahifadagi matnlarni yangilash
function updateTexts() {
  const lang = getLang();
  document.querySelectorAll('[data-i18n]').forEach(el => {
    const key = el.getAttribute('data-i18n');
    // codeModalDesc va timer uchun innerHTML ishlatamiz, boshqalar uchun textContent
    if ((key === 'codeModalDesc' || key === 'timer') && translations[lang][key]) {
      el.innerHTML = translations[lang][key];
    } else if (translations[lang][key]) {
      el.textContent = translations[lang][key];
    }
  });
  // Inputlar uchun placeholder tarjimasi
  document.querySelectorAll('[data-i18n-placeholder]').forEach(el => {
    const key = el.getAttribute('data-i18n-placeholder');
    if (translations[lang][key]) {
      el.setAttribute('placeholder', translations[lang][key]);
    }
  });
}

// Select va sidebar uchun event qo‘shish
document.addEventListener('DOMContentLoaded', function() {
  // Select orqali
  const select = document.getElementById('languageSwitcher');
  if (select) {
    select.value = getLang();
    select.addEventListener('change', function() {
      setLang(this.value);
      updateTexts();
      // Sidebar lang ham yangilansin
      const sidebarLang = document.querySelector('.sidebar-lang');
      if (sidebarLang) sidebarLang.textContent = this.value.toUpperCase();
    });
  }

  // Sidebar tugmasi orqali
  const sidebarLang = document.querySelector('.sidebar-lang');
  if (sidebarLang) {
    sidebarLang.textContent = getLang().toUpperCase();
    sidebarLang.addEventListener('click', function() {
      const newLang = getLang() === 'uz' ? 'ru' : 'uz';
      setLang(newLang);
      updateTexts();
      sidebarLang.textContent = newLang.toUpperCase();
      // Select ham yangilansin
      if (select) select.value = newLang;
    });
  }

  // Dastlabki matnlarni yangilash
  updateTexts();
});